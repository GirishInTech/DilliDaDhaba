# render.yaml â€” Infrastructure-as-Code for Render
# Commit this file; Render reads it automatically on new deploys.
# Docs: https://render.com/docs/infrastructure-as-code

services:
  - type: web
    name: DilliDaDhaba
    runtime: python
    region: singapore
    branch: main
    buildCommand: "./build.sh"
    startCommand: "gunicorn dilli_da_dhaba.wsgi"
    envVars:
      - key: SECRET_KEY
        generateValue: true          # Render auto-generates a strong secret
      - key: DEBUG
        value: "False"
      - key: ALLOWED_HOSTS
        value: "localhost,127.0.0.1"  # RENDER_EXTERNAL_HOSTNAME is added automatically by settings.py
      - key: PYTHON_VERSION
        value: "3.12.0"
      - key: DATABASE_URL
        value: "sqlite:///db.sqlite3" # Switch to a Render PostgreSQL URL for persistent data
